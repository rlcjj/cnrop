import sysreload(sys)sys.setdefaultencoding('utf8')# encoding: UTF-8import decimalMAX_NUMBER = 1000000000MAX_DECIMAL = 4# ----------------------------------------------------------------------def safeUnicode(value):    if type(value) is int or type(value) is float:        if value > MAX_NUMBER:            value = 0    if type(value) is float:        d = decimal.Decimal(str(value))        if abs(d.as_tuple().exponent) > MAX_DECIMAL:            value = round(value, ndigits=MAX_DECIMAL)    return unicode(value)